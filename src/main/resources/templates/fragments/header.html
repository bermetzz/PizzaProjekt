<header th:fragment="header">

    <nav class="navbar navbar-expand-lg">
        <div class="container">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <img
                        src="/images/logo.png"
                        alt="Logo"
                        width="50"
                        height="50"
                        class="d-inline-block"
                />
                <span class="ms-2">Issyk Slice</span>
            </a>

            <buttonН
                    class="navbar-toggler"
                    type="button"
                    data-bs-toggle="collapse"
                    data-bs-target="#navbarContent"
                    aria-controls="navbarContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
            >
                <span class="navbar-toggler-icon"></span>
            </buttonН>

            <div class="collapse navbar-collapse" id="navbarContent">
                <div class="ms-auto d-flex align-items-lg-center gap-3 flex-lg-row flex-column justify-content-md-start">

                    <!-- Login and Register Buttons -->
                    <a th:if="${user == null}" th:href="@{/login}" class="btn background-primary">Login</a>
                    <a th:if="${user == null}" th:href="@{/register}" class="btn button-secondary">Register</a>

                    <!-- Admin Bereich Link -->
                    <a th:if="${user != null and user.role == 'ADMIN'}"
                       th:href="@{/admin}"
                       class="admin-link">
                        Admin Bereich
                    </a>

                    <!-- User Info and Logout Button -->
                    <div th:if="${user != null}" class="d-flex align-items-lg-center flex-lg-row flex-column gap-3">
                        <div class="d-flex align-items-center">
                            <a th:href="@{/profile}" class="text-decoration-none">
                            <span class="mx-2"
                                  th:text="${user.firstName != null && user.lastName != null ? user.firstName + ' ' + user.lastName : user.username}">
                                User Name
                            </span>
                            <i class="bi bi-person-fill fs-4"></i>
                        </div>
                        <a th:href="@{/order}" class="btn button-secondary">My orders</a>

                        <form th:action="@{/logout}" method="post">
                            <button type="submit" class="btn background-primary">
                                Log out
                            </button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </nav>
</header>
